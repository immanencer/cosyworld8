(()=>{"use strict";var e=require("./core/state.js"),t=require("./services/wallet.js"),o=require("./components/tabs.js"),n=require("./core/contentLoader.js"),a=require("./utils/toast.js");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,o&&o.set(e,n),n}document.addEventListener("DOMContentLoaded",(function(){console.log("Initializing CosyWorld application..."),(0,e.initializeStateFromStorage)(),(0,t.initializeWallet)(),(0,o.initializeTabs)(),(0,n.initializeContentLoader)(),function(){const e=document.getElementById("open-mobile-nav");e&&e.addEventListener("click",(()=>{const e=document.querySelector("nav");e&&e.classList.remove("hidden")}));const t=document.getElementById("close-mobile-nav");t&&t.addEventListener("click",(()=>{const e=document.querySelector("nav");e&&e.classList.add("hidden")}))}(),function(){const e=document.getElementById("modal-container");e&&e.addEventListener("click",(t=>{t.target===e&&closeModal()}));const t=document.getElementById("avatar-modal");t&&t.addEventListener("click",(e=>{e.target===t&&closeAvatarModal()}))}(),(0,a.showToast)("Welcome to CosyWorld!"),window.setActiveTab=e.setActiveTab,window.setSocialSort=t=>{e.state.socialSort=t,window.loadContent&&window.loadContent()},window.closeModal=()=>{const e=document.getElementById("modal-container");e&&e.classList.add("hidden")},window.closeAvatarModal=()=>{const e=document.getElementById("avatar-modal");e&&e.classList.add("hidden")},window.showAvatarDetails=async e=>{try{const{showAvatarDetailsModal:t}=await Promise.resolve().then((()=>i(require("./components/avatar.js"))));t(e)}catch(e){console.error("Error loading avatar details:",e),(0,a.showToast)(`Error loading avatar details: ${e.message}`,{type:"error"})}},window.showTribeDetails=async e=>{try{const{showTribeDetailsContent:t}=await Promise.resolve().then((()=>i(require("./tabs/tribes.js"))));t(e)}catch(e){console.error("Error loading tribe details:",e),(0,a.showToast)(`Error loading tribe details: ${e.message}`,{type:"error"})}},window.state=e.state,window.loadContent&&window.loadContent()}))})();